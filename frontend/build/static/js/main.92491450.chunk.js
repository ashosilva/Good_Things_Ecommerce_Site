(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,c){},165:function(e,t,c){"use strict";c.r(t);var a=c(5),s=c(2),r=c(19),n=c.n(r),i=(c(61),c(10)),l=c.n(i),o=c(17),d=c(12),j=c(9),u=c(21),b=c(8),m=c(15),p=c(18),O=c.n(p),h="LOGIN_REQUEST",x="LOGIN_SUCCESS",f="LOGIN_FAIL",v="REGISTER_USER_REQUEST",g="REGISTER_USER_SUCCESS",y="REGISTER_USER_FAIL",N="LOAD_USER_REQUEST",w="LOAD_USER_SUCCESS",S="LOAD_USER_FAIL",_="UPDATE_PROFILE_REQUEST",E="UPDATE_PROFILE_SUCCESS",C="UPDATE_PROFILE_RESET",P="UPDATE_PROFILE_FAIL",R="UPDATE_PASSWORD_REQUEST",k="UPDATE_PASSWORD_SUCCESS",I="UPDATE_PASSWORD_RESET",A="UPDATE_PASSWORD_FAIL",F="FORGOT_PASSWORD_REQUEST",D="FORGOT_PASSWORD_SUCCESS",T="FORGOT_PASSWORD_FAIL",U="NEW_PASSWORD_REQUEST",L="NEW_PASSWORD_SUCCESS",W="NEW_PASSWORD_FAIL",q="LOGOUT_SUCCESS",M="LOGOUT_FAIL",$="CLEAR_ERRORS",G=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),e.next=4,O.a.get("/api/v1/me");case 4:c=e.sent,a=c.data,t({type:w,payload:a.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:S,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Q=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:$});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=c(1),B=function(e){var t=e.history,c=Object(s.useState)(""),a=Object(d.a)(c,2),r=a[0],n=a[1];return Object(V.jsx)("form",{onSubmit:function(e){e.preventDefault(),r.trim()?t.push("/search/".concat(r)):t.push("/")},children:Object(V.jsxs)("div",{className:"input-group",children:[Object(V.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return n(e.target.value)}}),Object(V.jsx)("div",{className:"input-group-append",children:Object(V.jsx)("button",{id:"search_btn",className:"btn",children:Object(V.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},J=(c(128),function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.auth})),a=c.user,r=c.loading,n=Object(b.c)((function(e){return e.cart})).cartItems;return Object(V.jsx)(s.Fragment,{children:Object(V.jsxs)("nav",{className:"navbar row",children:[Object(V.jsx)("div",{className:"col-12 col-md-3",children:Object(V.jsx)("div",{className:"navbar-brand",children:Object(V.jsx)(j.b,{to:"/",children:Object(V.jsx)("img",{src:"/images/good-things-logo.png",alt:"logo"})})})}),Object(V.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(V.jsx)(u.b,{render:function(e){var t=e.history;return Object(V.jsx)(B,{history:t})}})}),Object(V.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(V.jsxs)(j.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(V.jsx)("span",{id:"cart",className:"ml-3",children:"Cart"}),Object(V.jsx)("span",{className:"ml-1",id:"cart_count",children:n.length})]}),a?Object(V.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(V.jsxs)(j.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(V.jsx)("figure",{className:"avatar avatar-nav",children:Object(V.jsx)("img",{src:a.avatar&&a.avatar.url,alt:a&&a.name,className:"rounded-circle"})}),Object(V.jsx)("span",{className:"mb-6",children:a&&a.name})]}),Object(V.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[a&&"admin"===a.role&&Object(V.jsx)(j.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(V.jsx)(j.b,{className:"dropdown-item ",to:"/orders/me",children:"Orders"}),Object(V.jsx)(j.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(V.jsx)(j.b,{className:"dropdown-item text-danger",to:"/",onClick:function(){t(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/v1/logout");case 3:t({type:q}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:M,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully.")},children:"Logout"})]})]}):!r&&Object(V.jsx)(j.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login / Register"})]})]})})}),Y=function(){return Object(V.jsx)(s.Fragment,{children:Object(V.jsx)("footer",{className:"py-1",children:Object(V.jsxs)("div",{className:"text-center mt-1",children:[Object(V.jsx)("div",{children:"Good Things 2021"}),Object(V.jsx)(j.b,{to:"/about",exact:!0,className:"text-yellow-700 hover:text-gray-500 hover:underline",children:"About Us"})]})})})},z=c(29),H=c.p+"static/media/aba.79a6e3a2.jpg",K=c.p+"static/media/jac.689bd20a.jpg",X=c.p+"static/media/jen.ed246b2f.jpg",Z=function(){return Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{class:"about-section",children:[Object(V.jsx)("h1",{children:"About Us Page"}),Object(V.jsx)("p",{children:"Some text about who we are and what we do."})]}),Object(V.jsxs)("div",{class:"row p-2",children:[Object(V.jsx)("div",{class:"column",children:Object(V.jsxs)("div",{class:"card",children:[Object(V.jsx)("div",{className:"flex justify-center p-2",children:Object(V.jsx)("img",{src:X,alt:"Aba",style:{height:200,width:200},className:"rounded-full"})}),Object(V.jsxs)("div",{class:"container",children:[Object(V.jsx)("h2",{children:"Jenny Plishchina"}),Object(V.jsx)("p",{class:"title",children:"Facilitator"}),Object(V.jsx)("p",{children:"Bio goes here."}),Object(V.jsx)("p",{className:"text-yellow-700",children:"Contacts:"}),Object(V.jsxs)("div",{children:[Object(V.jsx)(z.SocialIcon,{url:"https://www.linkedin.com/in/jenny-plishchina/",className:"ml-1 mr-1 hover:opacity-80",target:"_blank",fgColor:"#fff",style:{height:50,width:50}}),Object(V.jsx)(z.SocialIcon,{url:"https://github.com/jplishchina",className:"ml-1 mr-1 hover:opacity-80 ",target:"_blank",fgColor:"#fff",style:{height:50,width:50}})]})]})]})}),Object(V.jsx)("div",{class:"column",children:Object(V.jsxs)("div",{class:"card",children:[Object(V.jsx)("div",{className:"flex justify-center p-2",children:Object(V.jsx)("img",{src:K,alt:"Aba",style:{height:200,width:200},className:"rounded-full"})}),Object(V.jsxs)("div",{class:"container",children:[Object(V.jsx)("h2",{children:"Jacob Chen"}),Object(V.jsx)("p",{class:"title",children:"Interviewer"}),Object(V.jsx)("p",{children:"Bio goes here."}),Object(V.jsx)("p",{className:"text-yellow-700",children:"Contacts:"}),Object(V.jsxs)("div",{children:[Object(V.jsx)(z.SocialIcon,{url:"https://www.linkedin.com/in/jacobpchen/",className:"ml-1 mr-1 hover:opacity-80",target:"_blank",fgColor:"#fff",style:{height:50,width:50}}),Object(V.jsx)(z.SocialIcon,{url:"https://github.com/jacobpchen",className:"ml-1 mr-1 hover:opacity-80 ",target:"_blank",fgColor:"#fff",style:{height:50,width:50}})]})]})]})}),Object(V.jsx)("div",{class:"column",children:Object(V.jsxs)("div",{class:"card",children:[Object(V.jsx)("div",{className:"flex justify-center p-2",children:Object(V.jsx)("img",{src:H,alt:"Aba",style:{height:200,width:200},className:"rounded-full"})}),Object(V.jsxs)("div",{class:"container",children:[Object(V.jsx)("h2",{children:"Abayomi Shosilva"}),Object(V.jsx)("p",{class:"title",children:"Business Expert"}),Object(V.jsx)("p",{children:"Some text that describes me."}),Object(V.jsx)("p",{className:"text-yellow-700",children:"Contacts:"}),Object(V.jsxs)("div",{children:[Object(V.jsx)(z.SocialIcon,{url:"https://www.linkedin.com/in/abayomi-shosilva/",className:"ml-1 mr-1 hover:opacity-80",target:"_blank",fgColor:"#fff",style:{height:50,width:50}}),Object(V.jsx)(z.SocialIcon,{url:"https://github.com/ashosilva",className:"ml-1 mr-1 hover:opacity-80 ",target:"_blank",fgColor:"#fff",style:{height:50,width:50}})]})]})]})})]})]})},ee=c(83),te=c.n(ee),ce=c(59),ae=(c(138),c(86)),se=function(e){var t=e.title;return Object(V.jsx)(ae.a,{children:Object(V.jsx)("title",{children:"".concat(t," - Good Things")})})},re=function(e){var t=e.product,c=e.col;return Object(V.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(V.jsxs)("div",{className:"card p-3 rounded",children:[Object(V.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:"picture of product"}),Object(V.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(V.jsx)("h5",{className:"card-title",children:Object(V.jsx)(j.b,{to:"product/".concat(t._id),children:t.name})}),Object(V.jsxs)("div",{className:"ratings mt-auto",children:[Object(V.jsx)("div",{className:"rating-outer",children:Object(V.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(V.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),Object(V.jsxs)("p",{className:"card-text",children:["$",t.price]}),Object(V.jsx)(j.b,{to:"product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},ne=function(){return Object(V.jsx)("div",{className:"loader"})},ie="ALL_PRODUCTS_REQUEST",le="ALL_PRODUCTS_SUCCESS",oe="ALL_PRODUCTS_FAIL",de="ADMIN_PRODUCTS_REQUEST",je="ADMIN_PRODUCTS_SUCCESS",ue="ADMIN_PRODUCTS_FAIL",be="NEW_PRODUCT_REQUEST",me="NEW_PRODUCT_SUCCESS",pe="NEW_PRODUCT_RESET",Oe="NEW_PRODUCT_FAIL",he="DELETE_PRODUCT_REQUEST",xe="DELETE_PRODUCT_SUCCESS",fe="DELETE_PRODUCT_RESET",ve="DELETE_PRODUCT_FAIL",ge="PRODUCT_DETAILS_REQUEST",ye="PRODUCT_DETAILS_SUCCESS",Ne="PRODUCT_DETAILS_FAIL",we="NEW_REVIEW_REQUEST",Se="NEW_REVIEW_SUCCESS",_e="NEW_REVIEW_RESET",Ee="NEW_REVIEW_FAIL",Ce="CLEAR_ERRORS",Pe=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:de}),e.next=4,O.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,t({type:je,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:ue,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Re=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ce});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ke=(0,ce.a.createSliderWithTooltip)(ce.a.Range),Ie=function(e){var t=e.match,c=Object(s.useState)(1),a=Object(d.a)(c,2),r=a[0],n=a[1],i=Object(s.useState)([1,1e3]),j=Object(d.a)(i,2),u=j[0],p=j[1],h=Object(s.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(s.useState)(0),y=Object(d.a)(g,2),N=y[0],w=y[1],S=Object(m.d)(),_=Object(b.b)(),E=Object(b.c)((function(e){return e.products})),C=E.loading,P=E.products,R=E.error,k=E.productsCount,I=E.resPerPage,A=E.filteredProductsCount,F=t.params.keyword;Object(s.useEffect)((function(){if(R)return S.error(R);_(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var r=Object(o.a)(l.a.mark((function r(n){var i,o,d;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:ie}),i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(s),a&&(i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a,"&ratings[gte]=").concat(s)),r.next=6,O.a.get(i);case 6:o=r.sent,d=o.data,n({type:le,payload:d}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:oe,payload:r.t0.response.data.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(F,r,u,f,N))}),[_,S,R,F,r,u,f,N]);var D=k;return F&&(D=A),Object(V.jsx)(s.Fragment,{children:C?Object(V.jsx)(ne,{}):Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Purchase Best Products Online"}),Object(V.jsx)("h1",{id:"products_heading",className:"text-3xl",children:"Latest Products"}),Object(V.jsx)("section",{id:"products",className:"container mt-5",children:Object(V.jsx)("div",{className:"row",children:F?Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(V.jsxs)("div",{className:"px-5",children:[Object(V.jsx)(ke,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:u,onChange:function(e){return p(e)}}),Object(V.jsx)("hr",{className:"my-5"}),Object(V.jsxs)("div",{className:"mt-5",children:[Object(V.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(V.jsx)("ul",{className:"pl-0",children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes","Shoes","Beauty","Health","Sports","Outdoor","Home"].map((function(e){return Object(V.jsx)("li",{className:"hover:text-yellow-400",style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return v(e)},children:e},e)}))})]}),Object(V.jsx)("hr",{className:"my-3"}),Object(V.jsxs)("div",{className:"mt-5",children:[Object(V.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(V.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((function(e){return Object(V.jsx)("li",{className:"rating-hover",style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return w(e)},children:Object(V.jsx)("div",{className:"rating-outer",children:Object(V.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(V.jsx)("div",{className:"col-6 col-md-9",children:Object(V.jsx)("div",{className:"row",children:P&&P.map((function(e){return Object(V.jsx)(re,{product:e,col:4},e._id)}))})})]}):P.map((function(e){return Object(V.jsx)(re,{product:e,col:3},e._id)}))})}),I<=D&&Object(V.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(V.jsx)(te.a,{activePage:r,itemsCountPerPage:I,totalItemsCount:k,onChange:function(e){n(e)},nextPageText:"Next",prevPageText:"Previous",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},Ae=c(172),Fe="ADD_TO_CART",De="REMOVE_ITEM_CART",Te="SAVE_SHIPPING_INFO",Ue=function(e,t){return function(){var c=Object(o.a)(l.a.mark((function c(a,s){var r,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O.a.get("/api/v1/product/".concat(e));case 2:r=c.sent,n=r.data,a({type:Fe,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},Le=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:De,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},We=function(e){var t=e.match,c=Object(s.useState)(1),a=Object(d.a)(c,2),r=a[0],n=a[1],i=Object(s.useState)(0),u=Object(d.a)(i,2),p=u[0],h=u[1],x=Object(s.useState)(""),f=Object(d.a)(x,2),v=f[0],g=f[1],y=Object(b.b)(),N=Object(m.d)(),w=Object(b.c)((function(e){return e.productDetails})),S=w.loading,_=w.error,E=w.product,C=Object(b.c)((function(e){return e.auth})).user,P=Object(b.c)((function(e){return e.newReview})),R=P.error,k=P.success;Object(s.useEffect)((function(){var e;y((e=t.params.id,function(){var t=Object(o.a)(l.a.mark((function t(c){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:ge}),t.next=4,O.a.get("/api/v1/product/".concat(e));case 4:a=t.sent,s=a.data,c({type:ye,payload:s.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Ne,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),_&&(N.error(_),y(Re())),R&&(N.error(R),y(Re())),k&&(N.success("Review posted successfully"),y({type:_e}))}),[y,N,_,R,t.params.id,k]);return Object(V.jsx)(s.Fragment,{children:S?Object(V.jsx)(ne,{}):Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:E.name}),Object(V.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(V.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(V.jsx)(Ae.a,{pause:"hover",children:E.images&&E.images.map((function(e){return Object(V.jsx)(Ae.a.Item,{children:Object(V.jsx)("img",{className:"d-block w-100",src:e.url,alt:E.title})},e.public_id)}))})}),Object(V.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(V.jsx)("h3",{children:E.name}),Object(V.jsxs)("p",{id:"product_id",children:["Product # ",E._id]}),Object(V.jsx)("hr",{}),Object(V.jsx)("div",{className:"rating-outer",children:Object(V.jsx)("div",{className:"rating-inner",style:{width:"".concat(E.ratings/5*100,"%")}})}),Object(V.jsxs)("span",{id:"no_of_reviews",children:["(",E.numOfReviews,")"]}),Object(V.jsx)("hr",{}),Object(V.jsxs)("p",{id:"product_price",children:["$",E.price]}),Object(V.jsxs)("div",{className:"stockCounter d-inline",children:[Object(V.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;n(t)}},children:"-"}),Object(V.jsx)("input",{type:"number",className:"form-control count d-inline",value:r,readOnly:!0}),Object(V.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=E.stock)){var t=e.valueAsNumber+1;n(t)}},children:"+"})]}),Object(V.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===E.stock,onClick:function(){y(Ue(t.params.id,r)),N.success("Item Added to Cart")},children:"Add to Cart"}),Object(V.jsx)("hr",{}),Object(V.jsxs)("p",{children:["Status: ",Object(V.jsx)("span",{id:"stock_status",className:E.stock>0?"greenColor":"redColor",children:E.stock>0?"In Stock":"Out of Stock"})]}),Object(V.jsx)("hr",{}),Object(V.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(V.jsx)("p",{children:E.description}),Object(V.jsx)("hr",{}),Object(V.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(V.jsx)("strong",{children:E.seller})]}),C?Object(V.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),h(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(V.jsxs)("div",{className:"alert alert-danger mt-5",type:"alert",children:[" ",Object(V.jsx)(j.b,{to:"/login",children:"Login here to post review"})]}),Object(V.jsx)("div",{className:"row mt-2 mb-5",children:Object(V.jsx)("div",{className:"rating w-50",children:Object(V.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(V.jsx)("div",{className:"modal-dialog",role:"document",children:Object(V.jsxs)("div",{className:"modal-content",children:[Object(V.jsxs)("div",{className:"modal-header",children:[Object(V.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(V.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(V.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(V.jsxs)("div",{className:"modal-body",children:[Object(V.jsxs)("ul",{className:"stars",children:[Object(V.jsx)("li",{className:"star",children:Object(V.jsx)("i",{className:"fa fa-star"})}),Object(V.jsx)("li",{className:"star",children:Object(V.jsx)("i",{className:"fa fa-star"})}),Object(V.jsx)("li",{className:"star",children:Object(V.jsx)("i",{className:"fa fa-star"})}),Object(V.jsx)("li",{className:"star",children:Object(V.jsx)("i",{className:"fa fa-star"})}),Object(V.jsx)("li",{className:"star",children:Object(V.jsx)("i",{className:"fa fa-star"})})]}),Object(V.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:v,onChange:function(e){return g(e.target.value)}}),Object(V.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white",onClick:function(){var e,c=new FormData;c.set("rating",p),c.set("comment",v),c.set("productId",t.params.id),y((e=c,function(){var t=Object(o.a)(l.a.mark((function t(c){var a,s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:we}),a={headers:{"Content-Type":"application/json"}},t.next=5,O.a.put("/api/v1/review",e,a);case 5:s=t.sent,r=s.data,c({type:Se,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Ee,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},"data-dismiss":"modal","aria-label":"Close",children:"Submit"})]})]})})})})})]})]})]})})},qe=function(e){var t=e.history,c=Object(b.b)(),a=Object(b.c)((function(e){return e.cart})).cartItems;return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Your Cart"}),0===a.length?Object(V.jsx)("h2",{className:"mt-5 text-2xl",children:"Your Cart is Empty"}):Object(V.jsxs)(s.Fragment,{children:[Object(V.jsxs)("h2",{className:"mt-5 text-2xl",children:["Your Cart: ",Object(V.jsxs)("b",{children:[a.length," items"]})]}),Object(V.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(V.jsx)("div",{className:"col-12 col-lg-8",children:a.map((function(e){return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("hr",{}),Object(V.jsx)("div",{className:"cart-item",children:Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"col-4 col-lg-3",children:Object(V.jsx)("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})}),Object(V.jsx)("div",{className:"col-5 col-lg-3",children:Object(V.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(V.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(V.jsxs)("p",{id:"card_item_price",children:["$",e.price]})}),Object(V.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(V.jsxs)("div",{className:"stockCounter d-inline",children:[Object(V.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t){var a=t-1;a<=0||c(Ue(e,a))}(e.product,e.quantity)},children:"-"}),Object(V.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(V.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,a){var s=t+1;s>a||c(Ue(e,s))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(V.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(V.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return t=e.product,void c(Le(t));var t}})})]})},e.product),Object(V.jsx)("hr",{})]},e.product)}))}),Object(V.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(V.jsxs)("div",{id:"order_summary",children:[Object(V.jsx)("h4",{className:"text-xl mb-3",children:"Order Summary"}),Object(V.jsx)("hr",{}),Object(V.jsxs)("p",{children:["Subtotal:  ",Object(V.jsxs)("span",{className:"order-summary-values",children:[a.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(V.jsxs)("p",{children:["Est. total: ",Object(V.jsxs)("span",{className:"order-summary-values",children:["$",a.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(V.jsx)("hr",{}),Object(V.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})},Me=c(92),$e=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(V.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(V.jsxs)(j.b,{to:"shipping",className:"float-right",children:[Object(V.jsx)("div",{className:"triangle2-active"}),Object(V.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(V.jsx)("div",{className:"triangle-active"})]}):Object(V.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(V.jsx)("div",{className:"triangle2-incomplete"}),Object(V.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(V.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(V.jsxs)(j.b,{to:"/order/confirm",className:"float-right",children:[Object(V.jsx)("div",{className:"triangle2-active"}),Object(V.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(V.jsx)("div",{className:"triangle-active"})]}):Object(V.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(V.jsx)("div",{className:"triangle2-incomplete"}),Object(V.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(V.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(V.jsxs)(j.b,{to:"/payment",className:"float-right",children:[Object(V.jsx)("div",{className:"triangle2-active"}),Object(V.jsx)("div",{className:"step active-step",children:"Payment"}),Object(V.jsx)("div",{className:"triangle-active"})]}):Object(V.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(V.jsx)("div",{className:"triangle2-incomplete"}),Object(V.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(V.jsx)("div",{className:"triangle-incomplete"})]})]})},Ge=function(e){var t=e.history,c=Object.values(Me.countries),a=Object(b.c)((function(e){return e.cart})).shippingInfo,r=Object(s.useState)(a.address),n=Object(d.a)(r,2),i=n[0],j=n[1],u=Object(s.useState)(a.city),m=Object(d.a)(u,2),p=m[0],O=m[1],h=Object(s.useState)(a.postalCode),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(s.useState)(a.phoneNo),y=Object(d.a)(g,2),N=y[0],w=y[1],S=Object(s.useState)(a.country),_=Object(d.a)(S,2),E=_[0],C=_[1],P=Object(b.b)();return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Shipping Info"}),Object(V.jsx)($e,{shipping:!0}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),P((c={address:i,city:p,phoneNo:N,postalCode:f,country:E},function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Te,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/order/confirm")},children:[Object(V.jsx)("h1",{className:"mb-4 text-3xl",children:"Shipping Info"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(V.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:i,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(V.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(V.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:N,onChange:function(e){return w(e.target.value)},required:!0})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(V.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:f,onChange:function(e){return v(e.target.value)},required:!0})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(V.jsx)("select",{id:"country_field",className:"form-control",value:E,onChange:function(e){return C(e.target.value)},required:!0,children:c.map((function(e){return Object(V.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(V.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},Qe=function(e){var t=e.history,c=Object(b.c)((function(e){return e.cart})),a=c.cartItems,r=c.shippingInfo,n=Object(b.c)((function(e){return e.auth})).user,i=a.reduce((function(e,t){return e+t.price*t.quantity}),0),l=i>200?0:10,o=Number((.05*i).toFixed(2)),d=(i+l+o).toFixed(2);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Confirm Order"}),Object(V.jsx)($e,{shipping:!0,confirmOrder:!0}),Object(V.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(V.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(V.jsx)("h4",{className:"mb-2 text-2xl",children:"Shipping Information:"}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Name:"})," ",n&&n.name]}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Phone:"})," ",r.phoneNo]}),Object(V.jsxs)("p",{className:"mb-4",children:[Object(V.jsx)("b",{children:"Address:"})," ","".concat(r.address,", ").concat(r.city,", ").concat(r.postalCode,", ").concat(r.country)]}),Object(V.jsx)("hr",{}),Object(V.jsx)("h4",{className:"mt-4 mb-2 text-2xl",children:"Your Cart Items:"}),a.map((function(e){return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("hr",{}),Object(V.jsx)("div",{className:"cart-item my-1",children:Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"col-4 col-lg-2",children:Object(V.jsx)("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})}),Object(V.jsx)("div",{className:"col-5 col-lg-6",children:Object(V.jsx)(j.b,{to:"/product/".concat(e.product),children:e.name})}),Object(V.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(V.jsxs)("p",{children:[e.quantity," x $",e.price," = ",Object(V.jsxs)("b",{children:["$",(e.quantity*e.price).toFixed(2)]})]})})]})},e.product),Object(V.jsx)("hr",{})]},e.product)}))]}),Object(V.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(V.jsxs)("div",{id:"order_summary",children:[Object(V.jsx)("h4",{className:"text-xl mb-3",children:"Order Summary"}),Object(V.jsx)("hr",{}),Object(V.jsxs)("p",{className:"mb-2",children:["Subtotal:  ",Object(V.jsxs)("span",{className:"order-summary-values",children:["$",i.toFixed(2)]})]}),Object(V.jsxs)("p",{className:"mb-2",children:["Shipping: ",Object(V.jsxs)("span",{className:"order-summary-values",children:["$",l]})]}),Object(V.jsxs)("p",{className:"mb-2",children:["Tax:  ",Object(V.jsxs)("span",{className:"order-summary-values",children:["$",o]})]}),Object(V.jsx)("hr",{}),Object(V.jsxs)("p",{className:"mt-2 mb-2",children:["Total: ",Object(V.jsxs)("span",{className:"order-summary-values",children:["$",d]})]}),Object(V.jsx)("hr",{}),Object(V.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={itemsPrice:i.toFixed(2),shippingPrice:l,taxPrice:o,totalPrice:d};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},Ve="CREATE_ORDER_REQUEST",Be="CREATE_ORDER_SUCCESS",Je="CREATE_ORDER_FAIL",Ye="MY_ORDERS_REQUEST",ze="MY_ORDERS_SUCCESS",He="MY_ORDERS_FAIL",Ke="ORDER_DETAILS_REQUEST",Xe="ORDER_DETAILS_SUCCESS",Ze="ORDER_DETAILS_FAIL",et="CLEAR_ERRORS",tt=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c,a){var s,r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ve}),s={headers:{"Content-Type":"application/json"}},t.next=5,O.a.post("/api/v1/order/new",e,s);case 5:r=t.sent,n=r.data,console.log(n),c({type:Be,payload:n}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),c({type:Je,payload:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,c){return t.apply(this,arguments)}}()},ct=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:et});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},at=c(26),st={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},rt=function(e){var t=e.history,c=Object(m.d)(),a=Object(at.useStripe)(),r=Object(at.useElements)(),n=Object(b.b)(),i=Object(b.c)((function(e){return e.auth})).user,d=Object(b.c)((function(e){return e.cart})),j=d.cartItems,u=d.shippingInfo,p=Object(b.c)((function(e){return e.newOrder})).error;Object(s.useEffect)((function(){p&&(c.error(p),n(ct()))}),[n,c,p]);var h={orderItems:j,shippingInfo:u},x=JSON.parse(sessionStorage.getItem("orderInfo"));x&&(h.itemsPrice=x.itemsPrice,h.shippingPrice=x.shippingPrice,h.taxPrice=x.taxPrice,h.totalPrice=x.totalPrice);var f={amount:Math.round(100*x.totalPrice)},v=function(){var e=Object(o.a)(l.a.mark((function e(s){var o,d,u,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),document.querySelector("#pay_btn").disabled=!0,e.prev=2,d={headers:{"Content-Type":"application/json"}},e.next=6,O.a.post("/api/v1/payment/process",f,d);case 6:if(o=e.sent,u=o.data.client_secret,console.log(u),a&&r){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,a.confirmCardPayment(u,{payment_method:{card:r.getElement(at.CardNumberElement),billing_details:{name:i.name,email:i.email}}});case 13:(b=e.sent).error?(c.error(b.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===b.paymentIntent.status?(h.paymentInfo={id:b.paymentIntent.id,status:b.paymentIntent.status},n(tt(h)),t.push("/success"),j.map((function(e){return t=e.product,void n(Le(t));var t}))):c.error("There is some issue while payment processing"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),document.querySelector("#pay_btn").disabled=!1,c.error(e.t0.response.data.message);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Payment"}),Object(V.jsx)($e,{shipping:!0,confirmOrder:!0,payment:!0}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:v,children:[Object(V.jsx)("h1",{className:"mb-4 text-3xl",children:"Card Info"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(V.jsx)(at.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:st})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(V.jsx)(at.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:st})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(V.jsx)(at.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:st})]}),Object(V.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay "," - ".concat(x&&x.totalPrice)]})]})})})]})},nt=function(){return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Order Success"}),Object(V.jsx)("div",{className:"row justify-content-center",children:Object(V.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(V.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object(V.jsx)("h2",{className:"text-2xl",children:"Your Order has been placed successfully."}),Object(V.jsx)(j.b,{to:"/orders/me",className:"text-green-700 text:underlined hover:text-gray-500",children:"Click here to go to Orders"})]})})]})},it=c(46),lt=function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.myOrders})),a=c.loading,r=c.error,n=c.orders;console.log(n),Object(s.useEffect)((function(){t(function(){var e=Object(o.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ye}),e.next=4,O.a.get("/api/v1/orders/me");case 4:c=e.sent,a=c.data,console.log(a),t({type:ze,payload:a.order}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:He,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),r&&(e.error(r),t(ct()))}),[t,e,r]);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"My Orders"}),Object(V.jsx)("h1",{className:"mt-5 text-3xl",children:"My Orders"}),a?Object(V.jsx)(ne,{}):Object(V.jsx)(it.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Number of Items",field:"numOfItems",sort:"asc"},{label:"Amount ($)",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(V.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(V.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(V.jsx)(j.b,{to:"#!",disabled:!0,className:"btn btn-primary",children:Object(V.jsx)("i",{className:"fa fa-eye"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},ot=function(e){var t=e.match,c=Object(m.d)(),a=Object(b.b)(),r=Object(b.c)((function(e){return e.orderDetails})),n=r.loading,i=r.error,d=r.order,u=void 0===d?{}:d,p=u.shippingInfo,h=u.orderItems,x=u.paymentInfo,f=u.user,v=u.totalPrice,g=u.orderStatus;Object(s.useEffect)((function(){var e;a((e=t.params.id,function(){var t=Object(o.a)(l.a.mark((function t(c){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ke}),t.next=4,O.a.get("/api/v1/order/".concat(e));case 4:a=t.sent,s=a.data,c({type:Xe,payload:s.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Ze,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),i&&(c.error(i),a(ct()))}),[a,c,i,t.params.id]);var y=p&&"".concat(p.address,", ").concat(p.city,", ").concat(p.postalCode,", ").concat(p.country),N=!(!x||"succeeded"!==x.status);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Order Details"}),n?Object(V.jsx)(ne,{}):Object(V.jsx)(s.Fragment,{children:Object(V.jsx)("div",{className:"row d-flex justify-content-between",children:Object(V.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(V.jsxs)("h1",{className:"my-5",children:["Order # ",u._id]}),Object(V.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Name:"})," ",f&&f.name]}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Phone:"})," ",p&&p.phoneNo]}),Object(V.jsxs)("p",{className:"mb-4",children:[Object(V.jsx)("b",{children:"Address:"}),y]}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Amount:"})," $",v]}),Object(V.jsx)("hr",{}),Object(V.jsx)("h4",{className:"my-4",children:"Payment"}),Object(V.jsx)("p",{className:N?"greenColor":"redColor",children:Object(V.jsx)("b",{children:N?"PAID":"NOT PAID"})}),Object(V.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(V.jsx)("p",{className:u.orderStatus&&String(u.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(V.jsx)("b",{children:g})}),Object(V.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(V.jsx)("hr",{}),Object(V.jsx)("div",{className:"cart-item my-1",children:h&&h.map((function(e){return Object(V.jsxs)("div",{className:"row my-5",children:[Object(V.jsx)("div",{className:"col-4 col-lg-2",children:Object(V.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(V.jsx)("div",{className:"col-5 col-lg-5",children:Object(V.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(V.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(V.jsxs)("p",{children:["$",e.price]})}),Object(V.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(V.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(V.jsx)("hr",{})]})})})]})},dt=function(e){var t=e.history,c=e.location,a=Object(s.useState)(""),r=Object(d.a)(a,2),n=r[0],i=r[1],u=Object(s.useState)(""),p=Object(d.a)(u,2),v=p[0],g=p[1],y=Object(m.d)(),N=Object(b.b)(),w=Object(b.c)((function(e){return e.auth})),S=w.isAuthenticated,_=w.error,E=w.loading,C=c.search?c.search.split("=")[1]:"/";Object(s.useEffect)((function(){S&&t.push(C),_&&(y.error(_),N(Q()))}),[N,y,S,_,t]);return Object(V.jsx)(s.Fragment,{children:E?Object(V.jsx)(ne,{}):Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Login"}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),N(function(e,t){return function(){var c=Object(o.a)(l.a.mark((function c(a){var s,r,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:h}),s={headers:{"Content-Type":"application/json"}},c.next=5,O.a.post("/api/v1/login",{email:e,password:t},s);case 5:r=c.sent,n=r.data,a({type:x,payload:n.user}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:f,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,v))},children:[Object(V.jsx)("h1",{className:"mb-3 text-3xl",children:"Login"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(V.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(V.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(V.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(V.jsxs)("div",{className:"flex justify-evenly",children:[Object(V.jsx)("div",{children:Object(V.jsx)(j.b,{to:"/password/forgot",className:"underline hover:text-yellow-500",children:"Forgot Password"})}),Object(V.jsx)("div",{children:"."}),Object(V.jsx)("div",{children:Object(V.jsx)(j.b,{to:"/register",className:" underline hover:text-yellow-500",children:"Create Account"})})]})]})})})]})})},jt=c(42),ut=function(e){var t=e.history,c=Object(s.useState)({name:"",email:"",password:""}),r=Object(d.a)(c,2),n=r[0],i=r[1],u=n.name,p=n.email,h=n.password,x=Object(s.useState)(""),f=Object(d.a)(x,2),N=f[0],w=f[1],S=Object(s.useState)("/images/default_avatar.png"),_=Object(d.a)(S,2),E=_[0],C=_[1],P=Object(m.d)(),R=Object(b.b)(),k=Object(b.c)((function(e){return e.auth})),I=k.isAuthenticated,A=k.error,F=k.loading;Object(s.useEffect)((function(){I&&t.push("/"),A&&(P.error(A),R(Q()))}),[R,P,I,A,t]);var D=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(C(t.result),w(t.result))},t.readAsDataURL(e.target.files[0])}else i(Object(a.a)(Object(a.a)({},n),{},Object(jt.a)({},e.target.name,e.target.value)))};return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Register User"}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",u),c.set("email",p),c.set("password",h),c.set("avatar",N),R((t=c,function(){var e=Object(o.a)(l.a.mark((function e(c){var a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:v}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.post("/api/v1/register",t,a);case 5:s=e.sent,r=s.data,c({type:g,payload:r.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:y,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(V.jsx)("h1",{className:"mb-3 text-3xl",children:"Register"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(V.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:u,onChange:D})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(V.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:p,onChange:D})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(V.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:h,onChange:D})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(V.jsxs)("div",{className:"d-flex align-items-center",children:[Object(V.jsx)("div",{children:Object(V.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(V.jsx)("img",{src:E,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(V.jsxs)("div",{className:"custom-file",children:[Object(V.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"iamges/*",onChange:D}),Object(V.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(V.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!F,children:"REGISTER"}),Object(V.jsx)("div",{className:"text-center",children:Object(V.jsx)(j.b,{to:"/login",className:" underline hover:text-yellow-500",children:"Login"})})]})})})]})},bt=function(){var e=Object(b.c)((function(e){return e.auth})),t=e.user,c=e.loading;return Object(V.jsx)(s.Fragment,{children:c?Object(V.jsx)(ne,{}):Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Your Profile"}),Object(V.jsx)("h2",{className:"mt-5 ml-5 text-2xl",children:"My Profile"}),Object(V.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(V.jsxs)("div",{className:"col-12 col-md-3",children:[Object(V.jsx)("figure",{className:"avatar avatar-profile",children:Object(V.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(V.jsx)(j.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(V.jsxs)("div",{className:"col-12 col-md-5",children:[Object(V.jsx)("h4",{children:"Full Name"}),Object(V.jsx)("p",{children:t.name}),Object(V.jsx)("h4",{children:"Email Address"}),Object(V.jsx)("p",{children:t.email}),Object(V.jsx)("h4",{children:"Joined On"}),Object(V.jsx)("p",{children:String(t.createdAt).substring(0,10)}),"admin"!==t.role&&Object(V.jsx)(j.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(V.jsx)(j.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})},mt=function(e){var t=e.history,c=Object(s.useState)(""),a=Object(d.a)(c,2),r=a[0],n=a[1],i=Object(s.useState)(""),j=Object(d.a)(i,2),u=j[0],p=j[1],h=Object(s.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(s.useState)("/images/default_avatar.jpg"),y=Object(d.a)(g,2),N=y[0],w=y[1],S=Object(m.d)(),R=Object(b.b)(),k=Object(b.c)((function(e){return e.auth})).user,I=Object(b.c)((function(e){return e.user})),A=I.error,F=I.isUpdated,D=I.loading;Object(s.useEffect)((function(){k&&(n(k.name),p(k.email),w(k.avatar.url)),A&&(S.error(A),R(Q())),F&&(S.success("User updated successfully"),R(G()),t.push("/me"),R({type:C}))}),[R,S,A,t,F]);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Update Profile"}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",r),c.set("email",u),c.set("avatar",f),R((t=c,function(){var e=Object(o.a)(l.a.mark((function e(c){var a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:_}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.put("/api/v1/me/update",t,a);case 5:s=e.sent,r=s.data,c({type:E,payload:r.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:P,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(V.jsx)("h1",{className:"mt-2 mb-5 text-3xl",children:"Update Profile"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(V.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(V.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(V.jsxs)("div",{className:"d-flex align-items-center",children:[Object(V.jsx)("div",{children:Object(V.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(V.jsx)("img",{src:N,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(V.jsxs)("div",{className:"custom-file",children:[Object(V.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(w(t.result),v(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(V.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(V.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!D,children:"Update"})]})})})]})},pt=function(e){var t=e.history,c=Object(s.useState)(""),a=Object(d.a)(c,2),r=a[0],n=a[1],i=Object(s.useState)(""),j=Object(d.a)(i,2),u=j[0],p=j[1],h=Object(m.d)(),x=Object(b.b)(),f=Object(b.c)((function(e){return e.user})),v=f.error,g=f.isUpdated,y=f.loading;Object(s.useEffect)((function(){v&&(h.error(v),x(Q())),g&&(h.success("Password updated successfully"),t.push("/me"),x({type:I}))}),[x,h,v,t,g]);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Change Password"}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",r),c.set("password",u),x((t=c,function(){var e=Object(o.a)(l.a.mark((function e(c){var a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:R}),a={headers:{"Content-Type":"application/json"}},e.next=5,O.a.put("/api/v1/password/update",t,a);case 5:s=e.sent,r=s.data,c({type:k,payload:r.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:A,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(V.jsx)("h1",{className:"mt-2 mb-5 text-3xl",children:"Update Password"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{for:"old_password_field",children:"Old Password"}),Object(V.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{for:"new_password_field",children:"New Password"}),Object(V.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(V.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!y,children:"Update Password"})]})})})]})},Ot=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(m.d)(),n=Object(b.b)(),i=Object(b.c)((function(e){return e.forgotPassword})),j=i.error,u=i.loading,p=i.message;Object(s.useEffect)((function(){j&&(r.error(j),n(Q())),p&&r.success(p)}),[n,r,j,p]);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"Forgot Password"}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),n(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){var a,s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:F}),a={headers:{"Content-Type":"application/json"}},t.next=5,O.a.post("/api/v1/password/forgot",e,a);case 5:s=t.sent,r=s.data,c({type:D,payload:r.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:T,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(V.jsx)("h1",{className:"mb-3 text-3xl",children:"Forgot Password"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(V.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(V.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!u,children:"Send Email"})]})})})]})},ht=function(e){var t=e.history,c=e.match,a=Object(s.useState)(""),r=Object(d.a)(a,2),n=r[0],i=r[1],j=Object(s.useState)(""),u=Object(d.a)(j,2),p=u[0],h=u[1],x=Object(m.d)(),f=Object(b.b)(),v=Object(b.c)((function(e){return e.forgotPassword})),g=v.error,y=v.success;Object(s.useEffect)((function(){g&&(x.error(g),f(Q())),y&&(x.success("Password updated successfully"),t.push("/login"))}),[f,x,g,y,t]);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"New Password Reset"}),Object(V.jsx)("div",{className:"row wrapper",children:Object(V.jsx)("div",{className:"col-10 col-lg-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,s=new FormData;s.set("password",n),s.set("confirmPassword",p),f((t=c.params.token,a=s,function(){var e=Object(o.a)(l.a.mark((function e(c){var s,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:U}),s={headers:{"Content-Type":"application/json"}},e.next=5,O.a.put("/api/v1/password/reset/".concat(t),a,s);case 5:r=e.sent,n=r.data,c({type:L,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:W,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(V.jsx)("h1",{className:"mb-3 text-3xl",children:"New Password"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(V.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(V.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(V.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},xt=function(){return Object(V.jsx)("div",{className:"sidebar-wrapper",children:Object(V.jsx)("nav",{id:"sidebar",children:Object(V.jsxs)("ul",{className:"list-unstyled components",children:[Object(V.jsx)("li",{children:Object(V.jsxs)(j.b,{to:"/dashboard",children:[Object(V.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(V.jsxs)("li",{children:[Object(V.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(V.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(V.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(V.jsx)("li",{children:Object(V.jsxs)(j.b,{to:"/admin/products",children:[Object(V.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(V.jsx)("li",{children:Object(V.jsxs)(j.b,{to:"/admin/product",children:[Object(V.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(V.jsx)("li",{children:Object(V.jsxs)(j.b,{to:"/admin/orders",children:[Object(V.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(V.jsx)("li",{children:Object(V.jsxs)(j.b,{to:"/admin/users",children:[Object(V.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(V.jsx)("li",{children:Object(V.jsxs)(j.b,{to:"/admin/reviews",children:[Object(V.jsx)("i",{className:"fa fa-star"})," Users"]})})]})})})},ft=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.products})).products;console.log(t);var c=0;return t.forEach((function(e){0===e.stock&&(c+=1)})),Object(s.useEffect)((function(){e(Pe())}),[e]),Object(V.jsx)(s.Fragment,{children:Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"col-12 col-md-2",children:Object(V.jsx)(xt,{})}),Object(V.jsxs)("div",{className:"col-12 col-md-10",children:[Object(V.jsx)("h1",{className:"my-4 text-3xl",children:"Dashboard"}),Object(V.jsx)("div",{className:"row pr-4",children:Object(V.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(V.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(V.jsx)("div",{className:"card-body",children:Object(V.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(V.jsx)("br",{})," ",Object(V.jsx)("b",{children:"$4567"})]})})})})}),Object(V.jsxs)("div",{className:"row pr-4",children:[Object(V.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(V.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(V.jsx)("div",{className:"card-body",children:Object(V.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(V.jsx)("br",{})," ",Object(V.jsx)("b",{children:t&&t.length})]})}),Object(V.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(V.jsx)("span",{className:"float-left",children:"View Details"}),Object(V.jsx)("span",{className:"float-right",children:Object(V.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(V.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(V.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(V.jsx)("div",{className:"card-body",children:Object(V.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(V.jsx)("br",{})," ",Object(V.jsx)("b",{children:"125"})]})}),Object(V.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(V.jsx)("span",{className:"float-left",children:"View Details"}),Object(V.jsx)("span",{className:"float-right",children:Object(V.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(V.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(V.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(V.jsx)("div",{className:"card-body",children:Object(V.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(V.jsx)("br",{})," ",Object(V.jsx)("b",{children:"45"})]})}),Object(V.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(V.jsx)("span",{className:"float-left",children:"View Details"}),Object(V.jsx)("span",{className:"float-right",children:Object(V.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(V.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(V.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(V.jsx)("div",{className:"card-body",children:Object(V.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(V.jsx)("br",{})," ",Object(V.jsx)("b",{children:c})]})})})})]})]})]})})},vt=function(e){var t=e.history,c=Object(m.d)(),a=Object(b.b)(),r=Object(b.c)((function(e){return e.products})),n=r.loading,i=r.error,d=r.products,u=Object(b.c)((function(e){return e.product})),p=u.error,h=u.isDeleted;Object(s.useEffect)((function(){a(Pe()),i&&(c.error(i),a(Re())),p&&(c.error(p),a(Re())),h&&(c.success("Product has been deleted"),t.push("/admin/products"),a({type:fe}))}),[a,c,i,p,h,t]);var x=function(e){a(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:he}),t.next=4,O.a.delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,s=a.data,c({type:xe,payload:s.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ve,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"All Products"}),Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"col-12 col-md-2",children:Object(V.jsx)(xt,{})}),Object(V.jsx)("div",{className:"col-12 col-md-10",children:Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("h1",{className:"my-5 text-2xl",children:"All Products"}),n?Object(V.jsx)(ne,{}):Object(V.jsx)(it.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return d.forEach((function(t){e.rows.push({id:t._id,name:t.name,price:"$".concat(t.price),stock:t.stock,actions:Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(j.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(V.jsx)("i",{className:"fa fa-pencil"})}),Object(V.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return x(t.id)},children:Object(V.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},gt=c(40),yt=function(e){var t=e.history,c=Object(s.useState)(""),a=Object(d.a)(c,2),r=a[0],n=a[1],i=Object(s.useState)(""),j=Object(d.a)(i,2),u=j[0],p=j[1],h=Object(s.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(s.useState)(""),y=Object(d.a)(g,2),N=y[0],w=y[1],S=Object(s.useState)(""),_=Object(d.a)(S,2),E=_[0],C=_[1],P=Object(s.useState)(""),R=Object(d.a)(P,2),k=R[0],I=R[1],A=Object(s.useState)([]),F=Object(d.a)(A,2),D=F[0],T=F[1],U=Object(s.useState)([]),L=Object(d.a)(U,2),W=L[0],q=L[1],M=Object(m.d)(),$=Object(b.b)(),G=Object(b.c)((function(e){return e.newProduct})),Q=G.loading,B=G.error,J=G.success;Object(s.useEffect)((function(){B&&(M.error(B),$(Re())),J&&(t.push("/admin/products"),M.success("Product created successfully"),$({type:pe}))}),[$,M,B,J,t]);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)(se,{title:"New Product"}),Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"col-12 col-md-2",children:Object(V.jsx)(xt,{})}),Object(V.jsx)("div",{className:"col-12 col-md-10",children:Object(V.jsx)(s.Fragment,{children:Object(V.jsx)("div",{className:"wrapper my-5",children:Object(V.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",r),c.set("price",u),c.set("description",f),c.set("category",N),c.set("stock",E),c.set("seller",k),D.forEach((function(e){c.append("images",e)})),$((t=c,function(){var e=Object(o.a)(l.a.mark((function e(c){var a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:be}),a={headers:{"Content-Type":"application/json"}},e.next=5,O.a.post("/api/v1/admin/product/new",t,a);case 5:s=e.sent,r=s.data,c({type:me,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Oe,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(V.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(V.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(V.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(V.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(V.jsx)("select",{className:"form-control",id:"category_field",value:N,onChange:function(e){return w(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes","Shoes","Beauty","Health","Sports","Outdoor","Home"].map((function(e){return Object(V.jsx)("option",{value:e,children:e},e)}))})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(V.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:E,onChange:function(e){return C(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(V.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:k,onChange:function(e){return I(e.target.value)}})]}),Object(V.jsxs)("div",{className:"form-group",children:[Object(V.jsx)("label",{children:"Images"}),Object(V.jsxs)("div",{className:"custom-file",children:[Object(V.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);q([]),T([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(q((function(e){return[].concat(Object(gt.a)(e),[t.result])})),T((function(e){return[].concat(Object(gt.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(V.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),W.map((function(e){return Object(V.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(V.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!Q,children:"CREATE"})]})})})})]})]})},Nt=c(102),wt=function(e){var t=e.isAdmin,c=e.component,r=Object(Nt.a)(e,["isAdmin","component"]),n=Object(b.c)((function(e){return e.auth})),i=n.isAuthenticated,l=n.loading,o=n.user;return Object(V.jsx)(s.Fragment,{children:!1===l&&Object(V.jsx)(u.b,Object(a.a)(Object(a.a)({},r),{},{render:function(e){return!1===i?Object(V.jsx)(u.a,{to:"/login"}):!0===t&&"admin"!==o.role?Object(V.jsx)(u.a,{to:"/"}):Object(V.jsx)(c,Object(a.a)({},e))}}))})},St=c(39),_t=c(97),Et=c(98),Ct=Object(St.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:case de:return{loading:!0,products:[]};case le:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case je:return{loading:!1,products:t.payload};case oe:case ue:return{loading:!1,error:t.payload};case Ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ye:return{loading:!1,product:t.payload};case Ne:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case xe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case ve:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case fe:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case Ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case me:return{loading:!1,success:t.payload.success,product:t.payload.product};case Oe:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case pe:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case Ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case v:case N:return{loading:!0,isAuthenticated:!1};case x:case g:case w:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case q:return{loading:!1,isAuthenticated:!1,user:null};case S:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case M:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case f:case y:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case $:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case R:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case E:case k:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case C:case I:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case P:case A:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case $:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:case U:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,error:null});case D:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,message:t.payload});case L:return Object(a.a)(Object(a.a)({},e),{},{success:t.payload});case T:case W:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case $:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:var c=t.payload,s=e.cartItems.find((function(e){return e.product===c.product}));return s?Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===s.product?c:e}))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[].concat(Object(gt.a)(e.cartItems),[c])});case De:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case Te:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Be:return{loading:!1,order:t.payload};case Je:return{loading:!1,error:t.payload};case et:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return{loading:!0};case ze:return{loading:!1,orders:t.payload};case He:return{loading:!1,error:t.payload};case et:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Se:return{loading:!1,success:t.payload};case Ee:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case _e:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case Ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),Pt={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},Rt=[_t.a],kt=Object(St.createStore)(Ct,Pt,Object(Et.composeWithDevTools)(St.applyMiddleware.apply(void 0,Rt))),It=c(99);var At=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1];Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/v1/stripeapi");case 2:t=e.sent,c=t.data,console.log(c.stripeApiKey),a(c.stripeApiKey);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}kt.dispatch(G()),function(){e.apply(this,arguments)}()}),[]);var r=Object(b.c)((function(e){return e.auth})),n=r.user,i=r.isAuthenticated,m=r.loading;return Object(V.jsx)(j.a,{children:Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)(J,{}),Object(V.jsxs)("div",{className:"container container-fluid",children:[Object(V.jsx)(u.b,{exact:!0,path:"/",component:Ie}),Object(V.jsx)(u.b,{path:"/search/:keyword",component:Ie}),Object(V.jsx)(u.b,{path:"/about",component:Z}),Object(V.jsx)(u.b,{path:"/product/:id",component:We}),Object(V.jsx)(u.b,{exact:!0,path:"/cart",component:qe}),Object(V.jsx)(wt,{exact:!0,path:"/shipping",component:Ge}),Object(V.jsx)(wt,{exact:!0,path:"/order/confirm",component:Qe}),Object(V.jsx)(wt,{path:"/success",component:nt}),c&&Object(V.jsx)(at.Elements,{stripe:Object(It.a)(c),children:Object(V.jsx)(wt,{path:"/payment",component:rt})}),Object(V.jsx)(u.b,{path:"/login",component:dt}),Object(V.jsx)(u.b,{path:"/register",component:ut}),Object(V.jsx)(u.b,{exact:!0,path:"/password/forgot",component:Ot}),Object(V.jsx)(u.b,{exact:!0,path:"/password/reset/:token",component:ht}),Object(V.jsx)(wt,{exact:!0,path:"/me",component:bt}),Object(V.jsx)(wt,{exact:!0,path:"/me/update",component:mt}),Object(V.jsx)(wt,{exact:!0,path:"/password/update",component:pt}),Object(V.jsx)(wt,{path:"/orders/me",component:lt,exact:!0}),Object(V.jsx)(wt,{path:"/order/:id",component:ot,exact:!0})]}),Object(V.jsx)(wt,{exact:!0,path:"/dashboard",isAdmin:!0,component:ft}),Object(V.jsx)(wt,{exact:!0,path:"/admin/products",isAdmin:!0,component:vt}),Object(V.jsx)(wt,{exact:!0,path:"/admin/product",isAdmin:!0,component:yt}),!m&&(!i||"admin"!==n.role)&&Object(V.jsx)(Y,{})]})})},Ft=c(100),Dt={timeout:5e3,position:m.b.BOTTOM_CENTER,transitions:m.c.SCALE};n.a.render(Object(V.jsx)(b.a,{store:kt,children:Object(V.jsx)(m.a,Object(a.a)(Object(a.a)({template:Ft.a},Dt),{},{children:Object(V.jsx)(At,{})}))}),document.getElementById("root"))},61:function(e,t,c){}},[[165,1,2]]]);
//# sourceMappingURL=main.92491450.chunk.js.map